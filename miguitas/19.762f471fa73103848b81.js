(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{pXY8:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),i=l("mrSG"),o=l("VVxe"),r=l("LvDl"),a=l("dkQB"),s=l("sybk"),u=l("Zr1d"),c=l("ZZ/e"),p=l("v0iw"),h=function(){function n(){this.parseAppId=a.a.parseAppId,this.parseJSKey=a.a.parseJSKey,this.parseServerUrl=a.a.parseServerUrl,this.parseInitialize()}return n.prototype.parseInitialize=function(){p.initialize(this.parseAppId,this.parseJSKey),p.serverURL=this.parseServerUrl},n.prototype.GetBrandProductsBySearchCriteria=function(n,t,l,e){return p.Cloud.run("app_GetBrandProductsBySearchCriteria",{scheme:n,page:t,pageSize:l,searchCriteria:e})},n.prototype.GetTagsForProduct=function(n){return i.b(this,void 0,void 0,function(){var t,l;return i.e(this,function(e){switch(e.label){case 0:return t=p.Object.extend("ProductTags"),(l=new p.Query(t)).equalTo("product",n),l.include("tag"),[4,l.find()];case 1:return[2,e.sent()]}})})},n.ngInjectableDef=e.T({factory:function(){return new n},token:n,providedIn:"root"}),n}(),d=function(){function n(n,t,l,e,i,o,r){this.route=n,this.navCtrl=t,this.keyboard=l,this.productService=e,this.loadingCtrl=i,this.alertCtrl=o,this.authService=r,this.scheme=this.route.snapshot.paramMap.get("scheme")||"all",this.loadTags=!1,this.searchCriteria="",this.daList=[],this.ionRefresher=!1}return n.prototype.ngOnInit=function(){console.log(this.scheme),this.resetPagination(),this.search()},n.prototype.doRefresh=function(n){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){switch(t.label){case 0:return this.ionRefresher=!0,[4,this.ngOnInit()];case 1:return t.sent(),n.target.complete(),this.ionRefresher=!1,[2]}})})},n.prototype.resetPagination=function(){this.useInfiniteScroll=!1,this.fetchingPage=!1,this.page=0,this.lastPage=!1},n.prototype.search=function(){var n=this;return new Promise(function(t,l){return i.b(n,void 0,void 0,function(){var n=this;return i.e(this,function(e){return this.loading=!this.useInfiniteScroll&&!this.ionRefresher,this.noResults=!1,this.productService.GetBrandProductsBySearchCriteria(this.scheme,this.page,a.a.SETTINGS.PAGE_SIZE,o(this.searchCriteria)).then(function(l){console.log("res ",l),n.useInfiniteScroll?Object(r.each)(l,function(t){return i.b(n,void 0,void 0,function(){var n;return i.e(this,function(l){switch(l.label){case 0:return this.daList.push(t),this.loadTags?(n=t,[4,this.productService.GetTagsForProduct(t)]):[3,2];case 1:n.tags=l.sent(),l.label=2;case 2:return[2]}})})}):(n.daList=l,n.loadTags&&Object(r.each)(n.daList,function(t){return i.b(n,void 0,void 0,function(){var n;return i.e(this,function(l){switch(l.label){case 0:return n=t,[4,this.productService.GetTagsForProduct(t)];case 1:return n.tags=l.sent(),[2]}})})})),n.loading=!1,n.noResults=Object(r.isEmpty)(n.daList),t(l)}).catch(function(t){console.error(t),n.loading=!1,n.noResults=!0,n.daList=[],l(t)}),[2]})})})},n.prototype.loadMore=function(){var n=this;this.fetchingPage||(this.useInfiniteScroll=!0,this.fetchingPage=!0,this.page++,this.search().then(function(t){n.useInfiniteScroll=!1,n.fetchingPage=!1,n.infiniteScroll.complete(),t?n.lastPage=0===t.length:n.page--}).catch(function(t){console.error(t),n.infiniteScroll.complete()}))},n.prototype.criteriaChanged=function(){this.resetPagination(),this.search()},n.prototype.clearSearchBar=function(){this.searchCriteria="",this.hideKeyboard(),this.scrollToTop(),this.resetPagination(),this.search()},n.prototype.hideKeyboard=function(){this.keyboard.hide()},n.prototype.scrollToTop=function(){this.content.scrollToTop(1500)},n}(),b=function(){return function(){}}(),g=l("pMnS"),f=l("oBZk"),m=l("otYU"),v=l("Ip0R"),C=l("ZYCi"),y=e.ob({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:linear-gradient(135deg, var(--ion-color-light), #eed2b3)}ion-card.daListCard[_ngcontent-%COMP%]{position:relative}ion-card.daListCard[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{margin-bottom:-3px}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:30px;position:absolute;top:5%;left:5%;z-index:2;text-shadow:1px 1px 4px rgba(0,0,0,.4);font-weight:bolder}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{position:absolute;top:27%;left:5%;z-index:2;font-size:20px}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{width:100%;position:absolute;z-index:3;bottom:0}ion-card.daListCard[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1;box-shadow:inset 0 0 15rem rgba(var(--ion-color-dark-rgb),.4)}ion-card.daListCard[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{right:2%;bottom:20%;position:absolute}ion-card.daListCard[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]{left:0;position:absolute;bottom:0}ion-card.daListCard[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin:3px}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-gap:1rem;max-width:960px;margin:10px auto 30px}.hvr-grow[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;-webkit-transform:translateZ(0);transform:translateZ(0);box-shadow:0 0 1px transparent;-webkit-backface-visibility:hidden;backface-visibility:hidden;-moz-osx-font-smoothing:grayscale;transition-duration:.3s;transition-property:transform,-webkit-transform}.hvr-grow[_ngcontent-%COMP%]:active, .hvr-grow[_ngcontent-%COMP%]:focus, .hvr-grow[_ngcontent-%COMP%]:hover{-webkit-transform:scale(1.02);transform:scale(1.02)}article[_ngcontent-%COMP%]{position:relative}.article-img[_ngcontent-%COMP%]{height:200px;width:100%;-o-object-fit:cover;object-fit:cover}.article-title[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;padding:10px;background-color:rgba(255,255,255,.2)}"]],data:{animation:[{type:7,name:"staggerIn",definitions:[{type:1,expr:"* => *",animation:[{type:11,selector:":enter",animation:{type:6,styles:{opacity:0,transform:"translate3d(0,10px,0)"},offset:null},options:{optional:!0}},{type:11,selector:":enter",animation:{type:12,timings:"300ms",animation:[{type:4,styles:{type:6,styles:{opacity:1,transform:"translate3d(0,0,0)"},offset:null},timings:"600ms"}]},options:{optional:!0}}],options:null}],options:{}}]}});function P(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,20,"article",[],null,null,null,null,null)),(n()(),e.qb(1,0,null,null,19,"ion-card",[["class","daListCard hvr-grow"]],null,null,null,f.E,f.e)),e.pb(2,49152,null,0,c.k,[e.h,e.k],null,null),(n()(),e.qb(3,0,null,0,2,"ion-img",[],null,null,null,f.I,f.l)),e.pb(4,49152,null,0,c.B,[e.h,e.k],{src:[0,"src"]},null),e.Cb(5,2),(n()(),e.qb(6,0,null,0,2,"ion-card-title",[["color","light"]],null,null,null,f.D,f.h)),e.pb(7,49152,null,0,c.o,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(8,0,["",""])),(n()(),e.qb(9,0,null,0,2,"ion-card-subtitle",[["color","light"]],null,null,null,f.C,f.g)),e.pb(10,49152,null,0,c.n,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(11,0,["",""])),(n()(),e.qb(12,0,null,0,0,"div",[["class","shadow"]],null,null,null,null,null)),(n()(),e.qb(13,0,null,0,7,"ion-card-content",[],null,null,null,f.B,f.f)),e.pb(14,49152,null,0,c.l,[e.h,e.k],null,null),(n()(),e.qb(15,0,null,0,5,"ion-badge",[["class","price"],["color","success"],["slot","end"]],null,null,null,f.y,f.b)),e.pb(16,49152,null,0,c.h,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.qb(17,0,null,0,3,"h3",[],null,null,null,null,null)),(n()(),e.qb(18,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),e.Gb(19,null,["\u20a1 ",""])),e.Cb(20,1)],function(n,t){var l=e.Hb(t,4,0,n(t,5,0,e.zb(t.parent,0),t.context.$implicit.get("imgUrls")[0],"rectangleFill"));n(t,4,0,l),n(t,7,0,"light"),n(t,10,0,"light"),n(t,16,0,"success")},function(n,t){var l=t.context.$implicit.get("name_es");n(t,8,0,l);var i=t.context.$implicit.get("presentation_es");n(t,11,0,i);var o=e.Hb(t,19,0,n(t,20,0,e.zb(t.parent,1),t.context.$implicit.get("price_cr")));n(t,19,0,o)})}function x(n){return e.Ib(0,[e.Bb(0,m.a,[]),e.Bb(0,v.d,[e.u]),e.Eb(402653184,1,{content:0}),e.Eb(402653184,2,{infiniteScroll:0}),(n()(),e.qb(4,0,null,null,10,"ion-header",[],null,null,null,f.G,f.j)),e.pb(5,49152,null,0,c.z,[e.h,e.k],null,null),(n()(),e.qb(6,0,null,0,8,"ion-toolbar",[["color","primary"]],null,null,null,f.T,f.w)),e.pb(7,49152,null,0,c.zb,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.qb(8,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,f.A,f.d)),e.pb(9,49152,null,0,c.j,[e.h,e.k],null,null),(n()(),e.qb(10,0,null,0,1,"ion-menu-button",[],null,null,null,f.N,f.r)),e.pb(11,49152,null,0,c.P,[e.h,e.k],null,null),(n()(),e.qb(12,0,null,0,2,"ion-title",[],null,null,null,f.S,f.v)),e.pb(13,49152,null,0,c.xb,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,["Men\xfa"])),(n()(),e.qb(15,0,null,null,5,"ion-content",[],null,null,null,f.F,f.i)),e.pb(16,49152,[[1,4]],0,c.s,[e.h,e.k],null,null),(n()(),e.qb(17,0,null,0,3,"div",[],[[24,"@staggerIn",0]],null,null,null,null)),(n()(),e.qb(18,0,null,null,2,"section",[["class","cards"]],null,null,null,null,null)),(n()(),e.hb(16777216,null,null,1,null,P)),e.pb(20,278528,null,0,v.i,[e.P,e.M,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var l=t.component;n(t,7,0,"primary"),n(t,20,0,l.daList)},function(n,t){var l=t.component;n(t,17,0,null==l.daList?null:l.daList.length)})}function w(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,1,"app-product-list",[],null,null,null,x,y)),e.pb(1,114688,null,0,d,[C.a,c.Gb,u.a,h,c.Db,c.a,s.a],null,null)],function(n,t){n(t,1,0)},null)}var O=e.mb("app-product-list",d,w,{},{},[]),k=l("gIcY"),M=l("7JYj");l.d(t,"ProductListPageModuleNgFactory",function(){return _});var _=e.nb(b,[],function(n){return e.wb([e.xb(512,e.j,e.cb,[[8,[g.a,O]],[3,e.j],e.x]),e.xb(4608,v.l,v.k,[e.u,[2,v.s]]),e.xb(4608,k.n,k.n,[]),e.xb(4608,c.b,c.b,[e.z,e.g]),e.xb(4608,c.Fb,c.Fb,[c.b,e.j,e.q,v.c]),e.xb(4608,c.Ib,c.Ib,[c.b,e.j,e.q,v.c]),e.xb(1073742336,v.b,v.b,[]),e.xb(1073742336,k.l,k.l,[]),e.xb(1073742336,k.e,k.e,[]),e.xb(1073742336,c.Bb,c.Bb,[]),e.xb(1073742336,C.o,C.o,[[2,C.u],[2,C.m]]),e.xb(1073742336,M.a,M.a,[]),e.xb(1073742336,b,b,[]),e.xb(1024,C.k,function(){return[[{path:"",component:d}]]},[])])})}}]);