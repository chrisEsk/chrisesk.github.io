(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"0Yh/":function(n,t,l){"use strict";l.r(t);var i=l("CcnG"),e=l("mrSG"),o=l("VVxe"),r=l("LvDl"),u=l("dkQB"),a=l("sybk"),s=l("Zr1d"),c=l("ZZ/e"),p=l("v0iw"),b=function(){function n(){this.parseAppId=u.a.parseAppId,this.parseJSKey=u.a.parseJSKey,this.parseServerUrl=u.a.parseServerUrl,this.parseInitialize()}return n.prototype.parseInitialize=function(){p.initialize(this.parseAppId,this.parseJSKey),p.serverURL=this.parseServerUrl},n.prototype.GetBrands=function(n,t,l){return p.Cloud.run("app_GetBrands")},n.prototype.GetTagsForBrand=function(n){return e.b(this,void 0,void 0,function(){var t,l;return e.e(this,function(i){switch(i.label){case 0:return t=p.Object.extend("BrandTags"),(l=new p.Query(t)).equalTo("brand",n),l.include("tag"),[4,l.find()];case 1:return[2,i.sent()]}})})},n.ngInjectableDef=i.T({factory:function(){return new n},token:n,providedIn:"root"}),n}(),h=function(){function n(n,t,l,i,e,o){this.navCtrl=n,this.keyboard=t,this.brandService=l,this.loadingCtrl=i,this.alertCtrl=e,this.authService=o,this.searchCriteria="",this.daList=[],this.ionRefresher=!1}return n.prototype.ngOnInit=function(){this.resetPagination(),this.search()},n.prototype.doRefresh=function(n){return e.b(this,void 0,void 0,function(){return e.e(this,function(t){switch(t.label){case 0:return this.ionRefresher=!0,[4,this.ngOnInit()];case 1:return t.sent(),n.target.complete(),this.ionRefresher=!1,[2]}})})},n.prototype.resetPagination=function(){this.useInfiniteScroll=!1,this.fetchingPage=!1,this.page=0,this.lastPage=!1},n.prototype.search=function(){var n=this;return new Promise(function(t,l){return e.b(n,void 0,void 0,function(){var n=this;return e.e(this,function(i){return this.loading=!this.useInfiniteScroll&&!this.ionRefresher,this.noResults=!1,this.brandService.GetBrands(this.page,u.a.SETTINGS.PAGE_SIZE,o(this.searchCriteria)).then(function(l){n.useInfiniteScroll?Object(r.each)(l,function(t){return e.b(n,void 0,void 0,function(){var n;return e.e(this,function(l){switch(l.label){case 0:return this.daList.push(t),n=t,[4,this.brandService.GetTagsForBrand(t)];case 1:return n.tags=l.sent(),[2]}})})}):(n.daList=l,Object(r.each)(n.daList,function(t){return e.b(n,void 0,void 0,function(){var n;return e.e(this,function(l){switch(l.label){case 0:return n=t,[4,this.brandService.GetTagsForBrand(t)];case 1:return n.tags=l.sent(),[2]}})})})),n.loading=!1,n.noResults=Object(r.isEmpty)(n.daList),t(l)}).catch(function(t){console.error(t),n.loading=!1,n.noResults=!0,n.daList=[],l(t)}),[2]})})})},n.prototype.loadMore=function(){var n=this;this.fetchingPage||(this.useInfiniteScroll=!0,this.fetchingPage=!0,this.page++,this.search().then(function(t){n.useInfiniteScroll=!1,n.fetchingPage=!1,n.infiniteScroll.complete(),t?n.lastPage=0===t.length:n.page--}).catch(function(t){console.error(t),n.infiniteScroll.complete()}))},n.prototype.criteriaChanged=function(){this.resetPagination(),this.search()},n.prototype.clearSearchBar=function(){this.searchCriteria="",this.hideKeyboard(),this.scrollToTop(),this.resetPagination(),this.search()},n.prototype.hideKeyboard=function(){this.keyboard.hide()},n.prototype.scrollToTop=function(){this.content.scrollToTop(1500)},n.prototype.goToProductList=function(n){var t=n.get("schemeName");this.navCtrl.navigateForward("product-list/"+t)},n}(),d=function(){return function(){}}(),g=l("pMnS"),f=l("oBZk"),m=l("Ip0R"),v=l("otYU"),y=i.ob({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:linear-gradient(135deg, var(--ion-color-light), var(--ion-color-medium))}ion-card.daListCard[_ngcontent-%COMP%]{position:relative}ion-card.daListCard[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{margin-bottom:-3px}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{position:absolute;top:5%;left:5%;z-index:2}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:30px;position:absolute;top:15%;left:5%;z-index:2;text-shadow:1px 1px 4px rgba(0,0,0,.4);font-weight:bolder}ion-card.daListCard[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{width:100%;position:absolute;z-index:3;bottom:0}ion-card.daListCard[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;z-index:1;box-shadow:inset 0 0 15rem rgba(var(--ion-color-dark-rgb),.6)}ion-card.daListCard[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{right:2%;bottom:20%;position:absolute}ion-card.daListCard[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]{left:0;position:absolute;bottom:0}ion-card.daListCard[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{margin:3px}"]],data:{animation:[{type:7,name:"staggerIn",definitions:[{type:1,expr:"* => *",animation:[{type:11,selector:":enter",animation:{type:6,styles:{opacity:0,transform:"translate3d(0,10px,0)"},offset:null},options:{optional:!0}},{type:11,selector:":enter",animation:{type:12,timings:"300ms",animation:[{type:4,styles:{type:6,styles:{opacity:1,transform:"translate3d(0,0,0)"},offset:null},timings:"600ms"}]},options:{optional:!0}}],options:null}],options:{}}]}});function C(n){return i.Ib(0,[(n()(),i.qb(0,0,null,null,1,"ion-icon",[["name","star"]],null,null,null,f.H,f.k)),i.pb(1,49152,null,0,c.A,[i.h,i.k],{name:[0,"name"]},null)],function(n,t){n(t,1,0,"star")},null)}function x(n){return i.Ib(0,[(n()(),i.qb(0,0,null,null,5,"span",[],null,null,null,null,null)),(n()(),i.qb(1,0,null,null,4,"ion-badge",[["color","tertiary"],["ion-margin",""]],null,null,null,f.y,f.b)),i.pb(2,49152,null,0,c.h,[i.h,i.k],{color:[0,"color"]},null),(n()(),i.hb(16777216,null,0,1,null,C)),i.pb(4,16384,null,0,m.j,[i.P,i.M],{ngIf:[0,"ngIf"]},null),(n()(),i.Gb(5,0,[" "," "]))],function(n,t){n(t,2,0,"tertiary");var l="Premium"===t.context.$implicit.get("tag").get("name_es");n(t,4,0,l)},function(n,t){var l=t.context.$implicit.get("tag").get("name_es");n(t,5,0,l)})}function P(n){return i.Ib(0,[(n()(),i.qb(0,0,null,null,3,"ion-card-content",[],null,null,null,f.B,f.f)),i.pb(1,49152,null,0,c.l,[i.h,i.k],null,null),(n()(),i.hb(16777216,null,0,1,null,x)),i.pb(3,278528,null,0,m.i,[i.P,i.M,i.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,3,0,t.parent.context.$implicit.tags)},null)}function I(n){return i.Ib(0,[(n()(),i.qb(0,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),i.qb(1,0,null,null,11,"ion-card",[["class","daListCard"],["ion-padding",""],["margin-bottom",""],["tappable",""]],null,[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==n.component.goToProductList(n.context.$implicit)&&i),i},f.E,f.e)),i.pb(2,49152,null,0,c.k,[i.h,i.k],null,null),(n()(),i.qb(3,0,null,0,2,"ion-img",[],null,null,null,f.I,f.l)),i.pb(4,49152,null,0,c.B,[i.h,i.k],{src:[0,"src"]},null),i.Cb(5,2),(n()(),i.qb(6,0,null,0,3,"ion-card-title",[["color","light"]],null,null,null,f.D,f.h)),i.pb(7,49152,null,0,c.o,[i.h,i.k],{color:[0,"color"]},null),(n()(),i.qb(8,0,null,0,1,"u",[],null,null,null,null,null)),(n()(),i.Gb(9,null,["",""])),(n()(),i.qb(10,0,null,0,0,"div",[["class","shadow"]],null,null,null,null,null)),(n()(),i.hb(16777216,null,0,1,null,P)),i.pb(12,16384,null,0,m.j,[i.P,i.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=i.Hb(t,4,0,n(t,5,0,i.zb(t.parent,0),t.context.$implicit.get("imgUrl")||"http://placekitten.com/720/620","w480"));n(t,4,0,l),n(t,7,0,"light"),n(t,12,0,(null==t.context.$implicit.tags?null:t.context.$implicit.tags.length)>0)},function(n,t){var l=t.context.$implicit.get("name");n(t,9,0,l)})}function k(n){return i.Ib(0,[i.Bb(0,v.a,[]),i.Eb(402653184,1,{content:0}),i.Eb(402653184,2,{infiniteScroll:0}),(n()(),i.qb(3,0,null,null,10,"ion-header",[],null,null,null,f.G,f.j)),i.pb(4,49152,null,0,c.z,[i.h,i.k],null,null),(n()(),i.qb(5,0,null,0,8,"ion-toolbar",[["color","primary"]],null,null,null,f.T,f.w)),i.pb(6,49152,null,0,c.zb,[i.h,i.k],{color:[0,"color"]},null),(n()(),i.qb(7,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,f.A,f.d)),i.pb(8,49152,null,0,c.j,[i.h,i.k],null,null),(n()(),i.qb(9,0,null,0,1,"ion-menu-button",[],null,null,null,f.N,f.r)),i.pb(10,49152,null,0,c.P,[i.h,i.k],null,null),(n()(),i.qb(11,0,null,0,2,"ion-title",[],null,null,null,f.S,f.v)),i.pb(12,49152,null,0,c.xb,[i.h,i.k],null,null),(n()(),i.Gb(-1,0,["Marcas"])),(n()(),i.qb(14,0,null,null,4,"ion-content",[],null,null,null,f.F,f.i)),i.pb(15,49152,[[1,4]],0,c.s,[i.h,i.k],null,null),(n()(),i.qb(16,0,null,0,2,"div",[],[[24,"@staggerIn",0]],null,null,null,null)),(n()(),i.hb(16777216,null,null,1,null,I)),i.pb(18,278528,null,0,m.i,[i.P,i.M,i.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var l=t.component;n(t,6,0,"primary"),n(t,18,0,l.daList)},function(n,t){var l=t.component;n(t,16,0,null==l.daList?null:l.daList.length)})}function O(n){return i.Ib(0,[(n()(),i.qb(0,0,null,null,1,"app-brand-list",[],null,null,null,k,y)),i.pb(1,114688,null,0,h,[c.Gb,s.a,b,c.Db,c.a,a.a],null,null)],function(n,t){n(t,1,0)},null)}var M=i.mb("app-brand-list",h,O,{},{},[]),S=l("gIcY"),w=l("ZYCi"),L=l("7JYj");l.d(t,"BrandListPageModuleNgFactory",function(){return _});var _=i.nb(d,[],function(n){return i.wb([i.xb(512,i.j,i.cb,[[8,[g.a,M]],[3,i.j],i.x]),i.xb(4608,m.l,m.k,[i.u,[2,m.s]]),i.xb(4608,S.n,S.n,[]),i.xb(4608,c.b,c.b,[i.z,i.g]),i.xb(4608,c.Fb,c.Fb,[c.b,i.j,i.q,m.c]),i.xb(4608,c.Ib,c.Ib,[c.b,i.j,i.q,m.c]),i.xb(1073742336,m.b,m.b,[]),i.xb(1073742336,S.l,S.l,[]),i.xb(1073742336,S.e,S.e,[]),i.xb(1073742336,c.Bb,c.Bb,[]),i.xb(1073742336,w.o,w.o,[[2,w.u],[2,w.m]]),i.xb(1073742336,L.a,L.a,[]),i.xb(1073742336,d,d,[]),i.xb(1024,w.k,function(){return[[{path:"",component:h}]]},[])])})}}]);